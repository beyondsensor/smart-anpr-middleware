import { parseString } from "xml2js"

const xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\
            <DeviceCap version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n\
            <isSupportPreview>true</isSupportPreview>\r\n\
            <isSupportSystemMaintain>true</isSupportSystemMaintain>\r\n\
            <isSupportReboot>true</isSupportReboot>\r\n\
            <isSupportFactoryReset>true</isSupportFactoryReset>\r\n\
            <isSupportConfigurationData >true</isSupportConfigurationData >\r\n\
            <isSupportUpdatefirmware>true</isSupportUpdatefirmware>\r\n\
            <isSupportDeviceInfo >true</isSupportDeviceInfo >\r\n\
            <isSupportTime >true</isSupportTime >\r\n\
            <isSupportActiveMulticast >true</isSupportActiveMulticast >\r\n\
            <isSupportRemoveStorage>false</isSupportRemoveStorage>\r\n\
            <isSupportRemovePlaybackRecord>false</isSupportRemovePlaybackRecord>\r\n\
            <isSupportChannelEventListCap>true</isSupportChannelEventListCap>\r\n\
            <isSupportFlashProtect>false</isSupportFlashProtect>\r\n<isSupportTcpdumpCapture>false</isSupportTcpdumpCapture>\r\n<isSupportExtHdCfg >true</isSupportExtHdCfg >\r\n<isSupportPrintLogExport >true</isSupportPrintLogExport >\r\n<SysCap>\r\n<isSupportDst>true</isSupportDst>\r\n<NetworkCap version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n<isSupportWireless>false</isSupportWireless>\r\n<isSupportPPPoE>false</isSupportPPPoE>\r\n<isSupportBond>false</isSupportBond>\r\n<isSupport802_1x>false</isSupport802_1x>\r\n<isSupportNtp>false</isSupportNtp>\r\n<isSupportFtp>true</isSupportFtp>\r\n<isSupportUpnp>true</isSupportUpnp>\r\n<isSupportDdns>true</isSupportDdns>\r\n<isSupportHttps>true</isSupportHttps>\r\n<SnmpCap>\r\n<isSupport>false</isSupport>\r\n</SnmpCap>\r\n<isSupportIPFilter>true</isSupportIPFilter>\r\n<isSupport28181>false</isSupport28181>\r\n<isSupportEZVIZ>false</isSupportEZVIZ>\r\n<isSupportEhome>true</isSupportEhome>\r\n<isSupportIntegrate>true</isSupportIntegrate>\r\n<isSupportWebSocket>true</isSupportWebSocket>\r\n<isSupportRTMP>false</isSupportRTMP>\r\n</NetworkCap>\r\n<IOCap>\r\n<IOInputPortNums>1</IOInputPortNums>\r\n<isSupportIOInputSchedules opt=\"true,flase\">flase</isSupportIOInputSchedules>\r\n<isSupportIOInputTriggers opt=\"true,flase\">flase</isSupportIOInputTriggers>\r\n<IOOutputPortNums>1</IOOutputPortNums>\r\n<isSupportIOOutputSchedules opt=\"true,flase\">flase</isSupportIOOutputSchedules>\r\n<isSupportStrobeLamp>false</isSupportStrobeLamp>\r\n</IOCap>\r\n<VideoCap  version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n<videoInputPortNums>1</videoInputPortNums>\r\n<videoOutputPortNums>0</videoOutputPortNums>\r\n<isSupportHeatmap>false</isSupportHeatmap>\r\n<isSupportCounting>false</isSupportCounting>\r\n<isSupportPicture>false</isSupportPicture>\r\n</VideoCap>\r\n<RebootConfigurationCap>\r\n<ONVIF >true</ONVIF >\r\n<RTSP>true</RTSP>\r\n<SADP>\r\n<ISDiscoveryMode>true</ISDiscoveryMode>\r\n<PcapMode>true</PcapMode>\r\n</SADP>\r\n<IPCAddStatus>true</IPCAddStatus>\r\n</RebootConfigurationCap>\r\n<isSupportExternalDevice >false</isSupportExternalDevice >\r\n<isSupportSoundCfg>true</isSupportSoundCfg>\r\n<isSupportSubscribeEvent >false</isSupportSubscribeEvent >\r\n<isSupportDiagnosedData>true</isSupportDiagnosedData>\r\n<isSupportMetadata >false</isSupportMetadata >\r\n<isSupportMixedTargetDetection >true</isSupportMixedTargetDetection >\r\n<isSupportGettingWorkingStatus>true</isSupportGettingWorkingStatus>\r\n<isSupportTimeCap>true</isSupportTimeCap>\r\n<isSupportPostUpdateFirmware>false</isSupportPostUpdateFirmware>\r\n<isSupportPostConfigData>false</isSupportPostConfigData>\r\n<isSupportUserLock>true</isSupportUserLock>\r\n</SysCap>\r\n<voicetalkNums >1</voicetalkNums >\r\n<isSupportSnapshot>true</isSupportSnapshot>\r\n<SecurityCap version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n<supportUserNums>16</supportUserNums>\r\n<userNameLen min=\"1\" max=\"32\"/>\r\n<passwordLen min=\"8\" max=\"16\"/>\r\n<isSupCertificate>true</isSupCertificate>\r\n<issupIllegalLoginLock>true</issupIllegalLoginLock>\r\n<isSupportOnlineUser>true</isSupportOnlineUser>\r\n<securityVersion opt=\"0,1\">1</securityVersion>\r\n<keyIterateNum>100</keyIterateNum>\r\n<isIrreversible>true</isIrreversible>\r\n<EventCap version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n<isSupportHDFull>true</isSupportHDFull>\r\n<isSupportHDError>true</isSupportHDError>\r\n<isSupportNicBroken>false</isSupportNicBroken>\r\n<isSupportIpConflict>false</isSupportIpConflict>\r\n<isSupportIllAccess>true</isSupportIllAccess>\r\n<isSupportViException>false</isSupportViException>\r\n<isSupportViMismatch>false</isSupportViMismatch>\r\n<isSupportRecordException>false</isSupportRecordException>\r\n<isSupportTriggerFocus>false</isSupportTriggerFocus>\r\n<isSupportMotionDetection>false</isSupportMotionDetection>\r\n<isSupportVideoLoss>false</isSupportVideoLoss>\r\n<isSupportTamperDetection>false</isSupportTamperDetection>\r\n<isSupportStudentsStoodUp>false</isSupportStudentsStoodUp>\r\n<isSupportFramesPeopleCounting>false</isSupportFramesPeopleCounting>\r\n<isSupportFaceContrast>false</isSupportFaceContrast>\r\n<isSupportFaceLib>false</isSupportFaceLib>\r\n<isSupportPersonDensityDetection>false</isSupportPersonDensityDetection>\r\n<isSupportFaceSnap>false</isSupportFaceSnap>\r\n<isSupportTeacherBehaviorDetect>false</isSupportTeacherBehaviorDetect>\r\n<isSupportMixedTargetDetection>false</isSupportMixedTargetDetection>\r\n<isSupportFaceSnapModeling>false</isSupportFaceSnapModeling>\r\n<isSupportIntersectionAnalysis>false</isSupportIntersectionAnalysis>\r\n<isSupportCityManagement>false</isSupportCityManagement>\r\n</EventCap>\r\n<SmartCap version=\"2.0\" xmlns=\"http://www.isapi.org/ver20/XMLSchema\">\r\n<isSupportROI>false</isSupportROI>\r\n<isSupportAudioDetection>false</isSupportAudioDetection>\r\n<isSupportFaceDetect>false</isSupportFaceDetect>\r\n<isSupportPlateRecognition>true</isSupportPlateRecognition>\r\n<isSupportStorageDetection>false</isSupportStorageDetection>\r\n<isSupportChannelResource>false</isSupportChannelResource>\r\n<isSupportAdasSmart>false</isSupportAdasSmart>\r\n</SmartCap>\r\n<isSupportFaceCaptureStatistics>false</isSupportFaceCaptureStatistics>\r\n<isSupportFirmwareVersionInfo>true</isSupportFirmwareVersionInfo>\r\n<isSupportPicInfoOverlap>false</isSupportPicInfoOverlap>\r\n<isSupportPlay>false</isSupportPlay>\r\n<isSupportPlayback>false</isSupportPlayback>\r\n<isSupportCustomStream>false</isSupportCustomStream>\r\n<isSupportImageCap>true</isSupportImageCap>\r\n<isSupportDisplay>true</isSupportDisplay>\r\n<isSupportIPCUpgrade>false</isSupportIPCUpgrade>\r\n<isSupportClientProxyWEB>false</isSupportClientProxyWEB>\r\n<isSupportTimeZone>true</isSupportTimeZone>\r\n<isSupportChannelEventListCap>false</isSupportChannelEventListCap>\r\n<isSupportAdas>false</isSupportAdas>\r\n<isSupportStreamEncryption>false</isSupportStreamEncryption>\r\n<isSupportStreamingEncrypt>false</isSupportStreamingEncrypt>\r\n<isSupportSRTP>false</isSupportSRTP>\r\n<isSupportEventDataOverWebSocket>true</isSupportEventDataOverWebSocket>\r\n\
            </DeviceCap>\r\n"

const cleaned = xml.replace(/(<\/\w+)\s+>/g, '$1>').replace("\r\n", "");
parseString(cleaned, { explicitArray: false, trim: true }, (err, result) => {
    console.log ( cleaned )
    
    if (err) {
        console.log(err);
    }
    console.log(result);
})
